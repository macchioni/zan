<!DOCTYPE html>
<html lang="it" color-mode="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% if title %}{{ title }} | {% endif %}Il Mio Sito</title>
  <meta name="description" content="{% if description %}{{ description }}{% else %}Il mio sito personale{% endif %}">
  <link rel="stylesheet" href="/assets/css/style.css">
  <!-- Google Fonts -->
  <style>@import url('https://fonts.googleapis.com/css2?family=Bitter:ital,wght@0,100..900;1,100..900&family=Geist&display=swap');</style>
  <!-- Favicons -->
  <link rel="icon" type="image/png" href="/assets/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/assets/favicon.svg" />
  <link rel="shortcut icon" href="/assets/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png" />
  <meta name="apple-mobile-web-app-title" content="Piero" />
  <link rel="manifest" href="/assets/site.webmanifest" />
  <link rel="alternate" href="/journal/feed.xml" type="application/atom+xml" title="Feed RSS Journal">
  <link rel="alternate" href="/links/feed.xml" type="application/atom+xml" title="Feed RSS Links">
  <!-- Open Graph / Mastodon -->
  <meta name="fediverse:creator" content="@piero@c.im">		
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <meta property="og:title" content="">
  <meta property="og:description" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">
  <meta property="og:image:alt" content="">
  <meta property="og:site_name" content="Pieroâœ±">
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="">
  <meta name="twitter:description" content="">
  <meta name="twitter:image" content="">
  <meta name="twitter:image:alt" content="">
  <meta name="twitter:site" content="@pieromacchioni">
  <meta name="twitter:creator" content="@pieromacchioni">
</head>

<body class="{{ pageClass }}">
  {% include "components/header.njk" %}
  
  <main>
    {{ content | safe }}
  </main>
  
  {% include "components/footer.njk" %}
  
  <script>
    // Script per gestire il color mode switcher
    document.addEventListener('DOMContentLoaded', () => {
      const colorModeBtn = document.querySelector('.color-mode__btn');
      
      colorModeBtn.addEventListener('click', () => {
        const html = document.documentElement;
        const currentMode = html.getAttribute('color-mode');
        const newMode = currentMode === 'light' ? 'dark' : 'light';
        
        html.setAttribute('color-mode', newMode);
        localStorage.setItem('color-mode', newMode);
      });
      
      // Ripristina il tema salvato
      const savedMode = localStorage.getItem('color-mode');
      if (savedMode) {
        document.documentElement.setAttribute('color-mode', savedMode);
      }
    });
  </script>
</body>
</html>